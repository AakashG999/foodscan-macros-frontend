<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FoodScan AI</title>

    <!-- Tailwind (development only, safe for localhost) -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- PWA -->
    <link rel="manifest" href="manifest.json" />
</head>

<body class="bg-gray-900 text-white h-screen flex flex-col">

<!-- HEADER -->
<h1 class="text-2xl font-bold p-4">FoodScan AI</h1>

<!-- CHAT SCREEN -->
<div id="screen-chat"
     class="flex flex-col w-full"
     style="height: 100vh; max-height: 100vh; overflow: hidden;">

    <!-- CHAT MESSAGES -->
    <div id="chat-container"
     style="
        flex: 1;
        overflow-y: auto;
        overflow-x: hidden;
        padding: 12px;
        display: flex;
        flex-direction: column;
        gap: 12px;
        -webkit-overflow-scrolling: touch; /* smooth mobile scroll */
     ">
</div>


    <!-- INPUT AREA -->
    <div id="chat-input-bar"
     style="
        display: flex;
        gap: 12px;
        padding: 12px;
        align-items: center;
        background: #0f172a;
        border-top: 1px solid #1e293b;
        position: sticky;
        bottom: 0;
        left: 0;
        width: 100%;
     ">
    
    <button id="openCameraBtn"
            class="p-3 bg-gray-700 rounded-full">
        üì∑
    </button>

    <input id="chatInput"
           class="flex-1 p-3 rounded-xl bg-gray-800 text-white"
           placeholder="Type your message..." />

    <button id="sendBtn"
            class="p-3 bg-blue-500 text-white rounded-full">
        ‚û§
    </button>
</div>

</div>

<!-- CAMERA SCREEN -->
<div id="screen-camera" class="hidden flex flex-col h-full p-4 bg-black text-white">
    <button id="cameraBackBtn" class="mb-4 text-lg">‚Üê Back</button>

    <input id="cameraInput" type="file" accept="image/*" capture="environment" class="hidden" />

    <button id="cameraShutter"
            class="mx-auto w-20 h-20 bg-white rounded-full mt-auto mb-auto"></button>
</div>

<!-- PROCESSING SCREEN -->
<div id="screen-processing" class="hidden h-full flex flex-col items-center justify-center text-center p-4 gap-6">

    <div class="scan-circle">
        <img id="processingImage" class="w-28 h-28 rounded-xl object-cover opacity-80" />
    </div>

    <p id="processingText" class="scan-text text-lg font-semibold">
        Analyzing food‚Ä¶
    </p>
</div>


<!-- RESULTS SCREEN -->
<div id="screen-results" class="hidden flex flex-col p-4 gap-4">

    <img id="resultImg" class="w-full h-52 object-cover rounded-xl" />

    <div class="bg-gray-800 p-4 rounded-xl">
        <h2 id="result-title" class="text-xl font-bold"></h2>
        <!-- Quantity Adjuster -->
<div class="flex items-center gap-4 mt-3">
    <button id="qtyMinus"
        class="px-4 py-2 bg-gray-700 text-white rounded-lg text-xl font-bold">‚àí</button>

    <span id="qtyValue" class="text-xl font-semibold">1</span>

    <button id="qtyPlus"
        class="px-4 py-2 bg-gray-700 text-white rounded-lg text-xl font-bold">+</button>
</div>

        <p id="result-quantity"></p>
        <p id="result-cal" class="text-lg font-semibold mt-2"></p>
        <p id="result-quantity" class="text-gray-500 dark:text-gray-400 text-sm"></p>


        <p id="result-macros" class="mt-2"></p>
        <p id="result-fibre"></p>

        <h3 class="mt-4 font-bold">Ingredients</h3>
        <ul id="result-ingredients" class="list-disc list-inside text-sm"></ul>

        <p id="result-notes" class="mt-3 text-sm text-gray-400"></p>
    </div>

    <div class="flex gap-3 mt-4">
    <button id="retakeBtn"
        class="flex-1 bg-gray-600 text-white p-3 rounded-xl">
        Retake
    </button>

    <button id="confirmBtn"
        class="flex-1 bg-blue-500 text-white p-3 rounded-xl">
        Confirm
    </button>
</div>
</div>

<!-- MAIN APP SCRIPT -->
<script src="app.js"></script>

</body>
</html>
